@model BlogConfigurationInput
@{
	ViewBag.Title = "Blog Configuration";
}

<div id="page-heading">
	<h1>Settings</h1>
</div>
@if (ViewData.ModelState.IsValid == false)
{ 
	<div class="form-error">
		@Html.ValidationSummary(true)
	</div>
}
<article id="user-input">
	<form action="@Url.Action("Update")" method="post">
	   <table style="width: 120%;" id="content-table">
		<tr>
			<th rowspan="3" class="sized">
				<img src="@Html.AdminImage("shared/side_shadowleft.jpg")" width="20"
	height="300" alt="" />
			</th>
			<th class="topleft">
			</th>
			<td id="tbl-border-top">
				&nbsp;
			</td>
			<th class="topleft">
			</th>
			<th rowspan="3" class="sized">
				<img src="@Html.AdminImage("shared/side_shadowright.jpg")"
	width="20" height="300" alt="" />
			</th>
		</tr>
		<tr>
			<td id="tbl-border-left">
			</td>
			<td>
				<!-- start content-table-inner -->
				<div >
					<table id="content-table-inner">
						<tr >
							<td>
								<table id="id-form">
									<p>	@Html.EditorFor(config => config.Title) </p>
		                              	<p>@Html.EditorFor(config => config.Subtitle)</p>
		                              	<p>@Html.EditorFor(config => config.MetaDescription)</p>
			                            <p>@Html.EditorFor(config => config.MetaKeywords)</p>
		                               	<p>@Html.EditorFor(config => config.Copyright)</p>
		                             	<p>@Html.EditorFor(config => config.CustomCss)</p>
		                               	<p>@Html.EditorFor(config => config.AkismetKey)</p>
	                            		<p>@Html.EditorFor(config => config.GoogleAnalyticsKey)</p>
		                            	<p>@Html.EditorFor(config => config.RssFuturePostsKey)</p>
			                            <p>@Html.EditorFor(config => config.RssFutureDaysAllowed)</p>
			                            <p>@Html.EditorFor(config => config.MinNumberOfPostForSignificantTag)</p>
			                            <p>@Html.EditorFor(config => config.NumberOfDayToCloseComments)
									</p>
									<div class="markdown-preview-container">
										
										<div class="section markdown-preview">
										</div>
									</div>
									
									<tr>
										<th>
										</th>
										<td valign="top">
											<input type="submit" value="Save" />
										</td>
										<td>
										</td>
									</tr>
								</table>
								<!-- end id-form -->
							</td>
						</tr>
					</table>
					</div>
	</table>
</form>
</article>
<div class="clear">
	&nbsp;</div>
@section Script {
	<script type="text/javascript" src="@Url.Content("~/Content/js/showdown.js")"></script>
	<script type="text/javascript">
		$(function () {
			var $textarea = $('textarea[name$="Body"]').keydown(function () {
				$('.markdown-preview-container').show('medium');
			});
			var $preview = $('.markdown-preview');
			var converter = new Showdown.converter();
			$textarea.keyup(function () {
				$preview.html(converter.makeHtml($textarea.val()));
			}).trigger('keyup');
		});
	</script>
}
